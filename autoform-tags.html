<template name="afTags">
	<span class="pull-right">
		{{#if hasLimits}}
			<span class="aftags-range {{#if limitsExceeded}}text-warning{{else}}text-muted{{/if}}">
				{{#with minLength}}{{this}} &lt; {{/with}}&#x270E;{{#with maxLength}} &lt; {{this}}{{/with}}
			</span>
		{{/if}}
	</span>
	<div class="form-control aftags-container">
		<div>
			{{#each tags}}
				<div class="btn-group aftags-tag-container">
					{{#if isSelected @index}}
						<span id="aftags-input" class="btn btn-outline-secondary"
							  contenteditable="true" autofocus data-index="{{@index}}">
							{{this}}
						</span>
						<button id="aftags-input-applybutton" class="btn btn-secondary">&#x2714;</button>
					{{else}}
						<span class="btn {{#if isDouble @index}}btn-warning{{else}}btn-info{{/if}} btn-sm aftags-tag"
							  data-index="{{@index}}">{{this}}</span>
						<span class="btn btn-info btn-sm aftags-close" data-index="{{@index}}">&times;</span>
					{{/if}}
				</div>
			{{/each}}

			{{#if isSelected null}}
				<div class="btn-group {{#if limitsExceeded}}btn-warning{{/if}} aftags-tag-container">

				<span id="aftags-input" class="btn btn-outline-secondary"
					  contenteditable="true" autofocus data-index="-1">
					{{#if showPlaceholder}}
						<span>{{placeholder}}</span>
					{{/if}}
				</span>
					{{#unless showPlaceholder}}
						<button id="aftags-input-applybutton" class="btn btn-secondary">&#x2714;</button>
					{{else}}
						<button id="aftags-input-showenterbutton" class="btn btn-secondary">&#x270E;</button>
					{{/unless}}
				</div>
			{{/if}}
		</div>

		{{#if showSelectOptions}}
			<hr>
			<div class="aftags-options">
				{{#each selectOptions}}
					{{#unless selected this}}
						<button class="btn btn-sm btn-secondary aftags-tag aftags-option" data-target="{{this}}">
							{{this}}
						</button>
					{{else}}
						<button class="btn btn-sm btn-secondary disabled" disabled>
							{{this}}
						</button>
					{{/unless}}
				{{/each}}
			</div>
		{{/if}}

	</div>
	<!-- autoform related field-->
	<input type="hidden" id="afTags-hiddenInput" data-schema-key="{{dataSchemaKey}}" />
</template>
