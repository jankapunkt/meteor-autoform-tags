<template name="afTags">
	<span class="pull-right">
		{{#if showCharLimits}}
			<span class="aftags-range  {{#if limitsExceeded}}text-warning{{else}}text-muted{{/if}}">
				{{#with minLength}}{{this}} &lt; {{/with}}&#x270E;{{currentLenth}}{{#with maxLength}} &lt; {{this}}{{/with}}
			</span>
		{{/if}}
        {{#if showTagLimits}}
            <span class="aftags-range text-muted">
				{{#with min}}{{this}} &lt; {{/with}} #{{currentTags}} {{#with max}} &lt; {{this}}{{/with}}
			</span>
        {{/if}}
	</span>
	<div class="card aftags-container">
		<div class="card-body">
			{{#each tags}}
				<div class="btn-group aftags-tag-container" role="group">
					{{#if isSelected @index}}
						<span id="aftags-input" class="btn btn-outline-secondary"
							  contenteditable="true" autofocus data-index="{{@index}}">
							{{this}}
						</span>
						<button id="aftags-input-applybutton" class="btn btn-secondary">&#x2714;</button>
					{{else}}
						<button class="btn {{#if isDouble @index}}btn-warning{{else}}btn-outline-secondary{{/if}} btn-sm aftags-tag"
                                disabled="{{#if editMode}}disabled{{/if}}"
							  data-index="{{@index}}">{{this}}</button>
						<button class="btn btn-sm btn-secondary btn-sm aftags-close"
                              disabled="{{#if editMode}}disabled{{/if}}"
                              data-index="{{@index}}">
                            &times;
                        </button>
					{{/if}}
				</div>
			{{/each}}

			{{#if isSelected null}}
				<div class="btn-group aftags-tag-container" role="group">
					{{#if editMode}}
                        <span id="aftags-input" class="btn btn-outline-{{#if limitsExceeded}}warning{{else}}secondary{{/if}}"
                              contenteditable="true" autofocus data-index="-1"></span>
						<button id="aftags-input-applybutton" class="btn btn-secondary">&#x2714;</button>
					{{else}}
						<button id="aftags-input-add-tag-button" class="btn btn-sm btn-success">
                            <strong>+</strong>
                            <span>{{placeholder}}</span>
                        </button>
					{{/if}}
				</div>
			{{/if}}
		</div>

		{{#if showSelectOptions}}
			<div class="card-footer aftags-options">
				{{#each selectOptions}}
					{{#unless selected this}}
						<button class="btn btn-sm btn-secondary aftags-tag aftags-option" data-target="{{this}}">
							{{this}}
						</button>
					{{else}}
						<button class="btn btn-sm btn-secondary disabled aftags-option" disabled>
							{{this}}
						</button>
					{{/unless}}
				{{/each}}
			</div>
		{{/if}}

	</div>
	<!-- autoform related field-->
	<input type="hidden" id="afTags-hiddenInput" data-schema-key="{{dataSchemaKey}}" />
</template>
